/* @theme corporate-blue */

@import "default";

:root {
  --color-primary: #1e3a8a; /* 深い青 */
  --color-secondary: #3b82f6; /* 明るい青 */
  --color-accent: #60a5fa; /* アクセント青 */
  --color-success: #10b981; /* 成功（緑） */
  --color-warning: #f59e0b; /* 警告（オレンジ） */
  --color-danger: #ef4444; /* 危険（赤） */
  --color-text: #1f2937; /* テキスト色 */
  --color-text-light: #6b7280; /* 薄いテキスト */
  --color-background: #ffffff; /* 背景白 */
  --color-background-alt: #f9fafb; /* 代替背景（より明るく） */
  --color-code-bg: #2d3748; /* コード背景（明るく変更） */
  --color-code-text: #e2e8f0; /* コードテキスト（明るい白） */
  --color-border: #e5e7eb; /* ボーダー */
}

/* ========================================
   基本セクション設定
   ======================================== */
section {
  background: linear-gradient(
    135deg,
    var(--color-background) 0%,
    var(--color-background-alt) 100%
  );
  font-family: "Segoe UI", "Yu Gothic", "Meiryo", sans-serif;
  color: var(--color-text);
  font-size: 22px; /* 可読性重視：24px→22px */
  line-height: 1.7; /* 行間を広げて可読性向上 */
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  padding: 40px 60px 50px 60px; /* 左右の余白を増やす */
}

/* タイトルスライド */
section.lead {
  background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
  color: white;
  text-align: center;
  justify-content: center;
}

section.lead h1 {
  color: white;
  border-bottom: none;
  font-size: 52px;
  margin-bottom: 20px;
}

section.lead h2 {
  color: #dbeafe;
  font-size: 28px;
  font-weight: normal;
  margin-top: 20px;
}

/* ========================================
   見出しスタイル
   ======================================== */
h1 {
  color: var(--color-primary);
  font-size: 40px; /* 42px→40px */
  font-weight: bold;
  border-bottom: 4px solid var(--color-secondary);
  padding-bottom: 10px;
  margin-top: 0;
  margin-bottom: 20px;
  letter-spacing: 0.5px; /* 文字間隔を広げて可読性向上 */
}

h2 {
  color: var(--color-secondary);
  font-size: 30px; /* 32px→30px */
  font-weight: bold;
  margin-top: 10px;
  margin-bottom: 15px;
  letter-spacing: 0.3px;
}

h3 {
  color: var(--color-accent);
  font-size: 24px; /* 26px→24px */
  font-weight: bold;
  margin-top: 15px;
  margin-bottom: 10px;
  letter-spacing: 0.2px;
}

h4 {
  color: var(--color-text);
  font-size: 20px;
  font-weight: bold;
  margin-top: 12px;
  margin-bottom: 8px;
}

/* ========================================
   リストスタイル（可読性重視）
   ======================================== */
ul,
ol {
  font-size: 20px; /* 22px→20px */
  line-height: 1.8; /* 1.6→1.8で行間を広く */
  margin-top: 10px;
  margin-bottom: 10px;
  padding-left: 30px; /* インデントを増やす */
}

li {
  margin-bottom: 6px; /* 3px→6pxでアイテム間隔を広く */
}

/* ネストされたリスト */
ul ul,
ol ul,
ul ol,
ol ol {
  margin-top: 6px;
  margin-bottom: 6px;
  font-size: 18px;
}

/* ========================================
   チェックリストスタイル（重要！）
   ======================================== */
/* Marpは [ ] を自動でチェックボックスに変換 */
li:has(input[type="checkbox"]) {
  list-style: none;
  margin-left: -25px;
}

input[type="checkbox"] {
  width: 18px;
  height: 18px;
  margin-right: 8px;
  cursor: pointer;
  accent-color: var(--color-success); /* チェック時の色 */
}

/* チェック済みアイテムを薄くする */
li:has(input[type="checkbox"]:checked) {
  color: var(--color-text-light);
  text-decoration: line-through;
}

/* ========================================
   強調・装飾
   ======================================== */
strong {
  color: var(--color-primary);
  font-weight: bold;
}

em {
  color: var(--color-secondary);
  font-style: italic;
}

/* 絵文字のサイズ調整 */
section :is(h1, h2, h3, p, li) > :is(img[alt*="✅"], img[alt*="📋"], img[alt*="🚀"]) {
  width: 1.2em;
  height: 1.2em;
  vertical-align: middle;
  display: inline-block;
  margin: 0 2px;
}

/* ========================================
   テーブルスタイル（大幅改善）
   ======================================== */
table {
  border-collapse: collapse;
  width: 100%;
  margin: 15px 0;
  font-size: 18px; /* 20px→18px */
  table-layout: auto; /* 内容に応じて幅を調整 */
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); /* 影を追加 */
  border-radius: 6px;
  overflow: hidden;
}

thead {
  background: var(--color-primary);
  color: white;
}

th {
  border: 1px solid rgba(255, 255, 255, 0.2);
  padding: 12px 15px; /* パディングを増やす */
  text-align: left;
  background: var(--color-primary) !important;
  color: white !important;
  font-weight: bold;
  font-size: 18px;
  word-wrap: break-word;
  overflow-wrap: break-word;
  white-space: normal;
  vertical-align: middle;
}

td {
  border: 1px solid var(--color-border);
  padding: 10px 15px; /* パディングを増やす */
  text-align: left;
  word-wrap: break-word;
  overflow-wrap: break-word;
  white-space: normal;
  vertical-align: top;
  line-height: 1.6;
}

tbody tr {
  transition: background-color 0.2s ease; /* ホバーアニメーション */
}

tbody tr:nth-child(even) {
  background: var(--color-background-alt);
}

tbody tr:hover {
  background: #dbeafe; /* ホバー時の色 */
}

/* テーブル内のコード */
table code {
  font-size: 14px;
  padding: 1px 4px;
}

/* ========================================
   コードブロック（シンタックスハイライト強化）
   ======================================== */
code {
  background: #f3f4f6; /* より明るい背景 */
  color: #dc2626; /* 赤系で視認性向上 */
  padding: 3px 8px;
  border-radius: 4px;
  font-family: "Consolas", "Monaco", "Courier New", monospace;
  font-size: 85%;
  border: 1px solid #e5e7eb; /* 境界線追加 */
  font-weight: 500;
}

pre {
  background: var(--color-code-bg); /* 変数を使用 */
  color: var(--color-code-text); /* 変数を使用 */
  padding: 18px 20px;
  border-radius: 8px;
  overflow-x: auto;
  font-size: 16px;
  line-height: 1.6;
  margin: 15px 0;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  border-left: 4px solid var(--color-secondary);
}

pre code {
  background: transparent;
  color: #e2e8f0 !important; /* 強制的に明るい色を適用 */
  padding: 0;
  border: none;
  font-size: 16px;
  font-weight: normal;
}

/* コードブロック内の全テキストを明るく */
pre * {
  color: #e2e8f0 !important;
}

/* ASCIIアート・ボックス図の視認性向上 */
pre code[class*="language-"],
pre code[class=""],
pre code:not([class]) {
  color: #e2e8f0 !important;
  font-weight: 500; /* 少し太く */
  letter-spacing: 0.5px; /* 文字間隔を広げる */
}

/* コメント */
pre code .comment {
  color: #a0aec0 !important; /* より明るいグレー */
  font-style: italic;
}

/* キーワード */
pre code .keyword {
  color: #c4b5fd !important; /* より明るい紫 */
  font-weight: bold;
}

/* 文字列 */
pre code .string {
  color: #6ee7b7 !important; /* より明るい緑 */
}

/* 関数 */
pre code .function {
  color: #93c5fd !important; /* より明るい青 */
}

/* Marpのコードブロック用強制スタイル */
section pre,
section pre code,
section pre span,
section code[class*="language-"] {
  color: #e2e8f0 !important;
}

/* 特にASCIIアート用の視認性向上 */
section pre {
  font-family: "Consolas", "Monaco", "Courier New", "MS Gothic", monospace !important;
  font-weight: 500 !important;
}

/* ========================================
   引用・警告ボックス
   ======================================== */
blockquote {
  border-left: 5px solid var(--color-secondary);
  background: var(--color-background-alt);
  padding: 15px 20px;
  margin: 15px 0;
  font-style: italic;
  border-radius: 4px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

/* 警告ボックス（⚠️で始まる引用） */
blockquote:has(strong:first-child:contains("⚠️")),
blockquote:has(strong:first-child:contains("注意")),
blockquote:has(strong:first-child:contains("WARNING")) {
  border-left-color: var(--color-warning);
  background: #fef3c7;
  color: #92400e;
}

/* 成功ボックス（✅で始まる引用） */
blockquote:has(strong:first-child:contains("✅")),
blockquote:has(strong:first-child:contains("完了")) {
  border-left-color: var(--color-success);
  background: #d1fae5;
  color: #065f46;
}

/* エラーボックス（❌で始まる引用） */
blockquote:has(strong:first-child:contains("❌")),
blockquote:has(strong:first-child:contains("エラー")) {
  border-left-color: var(--color-danger);
  background: #fee2e2;
  color: #991b1b;
}

/* ========================================
   情報ボックス（カスタムクラス）
   ======================================== */
/* 使い方: > **💡 TIPS:** 内容 */
.info-box {
  background: #dbeafe;
  border: 2px solid var(--color-secondary);
  border-radius: 6px;
  padding: 15px 20px;
  margin: 15px 0;
}

.warning-box {
  background: #fef3c7;
  border: 2px solid var(--color-warning);
  border-radius: 6px;
  padding: 15px 20px;
  margin: 15px 0;
}

.success-box {
  background: #d1fae5;
  border: 2px solid var(--color-success);
  border-radius: 6px;
  padding: 15px 20px;
  margin: 15px 0;
}

/* ========================================
   リンク
   ======================================== */
a {
  color: var(--color-secondary);
  text-decoration: underline;
  font-weight: 500;
  transition: color 0.2s ease;
}

a:hover {
  color: var(--color-primary);
  text-decoration: underline;
}

/* ========================================
   ページ番号（視認性向上）
   ======================================== */
section::after {
  content: attr(data-marpit-pagination) " / " attr(data-marpit-pagination-total);
  position: absolute;
  bottom: 20px;
  right: 35px;
  font-size: 16px;
  color: var(--color-text-light);
  background: rgba(255, 255, 255, 0.9);
  padding: 4px 10px;
  border-radius: 12px;
  border: 1px solid var(--color-border);
  font-weight: 500;
}

/* タイトルスライドではページ番号を非表示 */
section.lead::after {
  display: none;
}

/* ========================================
   ヘッダー・フッター
   ======================================== */
header {
  position: absolute;
  top: 20px;
  left: 60px;
  font-size: 14px;
  color: var(--color-text-light);
  font-weight: 500;
}

footer {
  position: absolute;
  bottom: 20px;
  left: 60px;
  font-size: 12px;
  color: var(--color-text-light);
}

/* ========================================
   セクション区切り（章の開始）
   ======================================== */
/* 使い方: ---の後に<!-- _class: chapter --> */
section.chapter {
  background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
  color: white;
  justify-content: center;
  text-align: center;
}

section.chapter h1 {
  color: white;
  border-bottom: none;
  font-size: 56px;
  margin-bottom: 0;
}

section.chapter h2 {
  color: #dbeafe;
  font-size: 32px;
  font-weight: normal;
  margin-top: 20px;
}

/* ========================================
   2カラムレイアウト
   ======================================== */
/* 使い方: <!-- _class: columns --> */
section.columns {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 30px;
  align-items: start;
}

section.columns > * {
  grid-column: auto;
}

section.columns h1,
section.columns h2 {
  grid-column: 1 / -1; /* 見出しは全幅 */
}

/* ========================================
   印刷・エクスポート最適化
   ======================================== */
@media print {
  section {
    page-break-inside: avoid;
  }
  
  pre,
  table {
    page-break-inside: avoid;
  }
}

/* ========================================
   アクセシビリティ
   ======================================== */
/* フォーカス時の視認性向上 */
a:focus,
button:focus,
input:focus {
  outline: 3px solid var(--color-accent);
  outline-offset: 2px;
}

/* ハイコントラストモード対応 */
@media (prefers-contrast: high) {
  :root {
    --color-text: #000000;
    --color-background: #ffffff;
  }
  
  section {
    border: 2px solid #000000;
  }
}

/* ========================================
   アニメーション（控えめ）
   ======================================== */
@media (prefers-reduced-motion: no-preference) {
  section {
    animation: fadeIn 0.3s ease-in;
  }
  
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
}